(this["webpackJsonpjunior-frontend-test"]=this["webpackJsonpjunior-frontend-test"]||[]).push([[0],[,,,,,,,,function(e,t,c){e.exports={root:"ProductList_root__ezjgF"}},,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(2),a=c.n(s),r=c(7),n=c.n(r),i=(c(14),c(3)),o=c(8),l=c.n(o),u=c(9),d=c(1),j={filter:{isNew:!1,isLimited:!1,category:[],search:""},status:"idle",categoryStatus:"idle",items:[],categories:[]},b=function(e,t){switch(t.type){case"filter:change":return Object(d.a)(Object(d.a)({},e),{},{status:"work",filter:Object(d.a)(Object(d.a)({},e.filter),t.payload)});case"filter:reset":return Object(d.a)(Object(d.a)({},e),{},{status:"work",filter:Object(d.a)({},j.filter)});case"request:start":return Object(d.a)(Object(d.a)({},e),{},{status:"work"});case"request:success":return Object(d.a)(Object(d.a)({},e),{},{status:"success",items:t.payload});case"request:error":return Object(d.a)(Object(d.a)({},e),{},{status:"error"});case"cat-request:success":return Object(d.a)(Object(d.a)({},e),{},{categoryStatus:"success",categories:t.payload});case"cat-request:error":return Object(d.a)(Object(d.a)({},e),{},{categoryStatus:"error"})}},m=c.p+"static/media/SearchLogo.6ee5abe4.svg",h=(c(15),c(0));var O=function(e){var t=e.handler;return Object(h.jsxs)("header",{className:"header",children:[Object(h.jsx)("div",{className:"logo",children:"Products"}),Object(h.jsxs)("div",{className:"search",children:[Object(h.jsx)("img",{className:"search__logo",src:m}),Object(h.jsx)("input",{className:"input",type:"text",placeholder:"Search among products",onChange:t})]})]})},p=(c(17),c.p+"static/media/Barley.d0752ec2.svg"),f=c.p+"static/media/Canola.87d068d5.svg",g=c.p+"static/media/Corn.3131e41f.svg",x=c.p+"static/media/Oats.1549f433.svg",N=c.p+"static/media/Soybeans.cdfe6b75.svg",y=c.p+"static/media/Wheat.ba2ac08f.svg";var v=function(e){var t=e.items;function c(e){switch(e){case"Barley":return p;case"Canola":return f;case"Corn":return g;case"Oats":return x;case"Soybeans":return N;case"Wheat":return y}}return 0===t.length?Object(h.jsx)("div",{className:"cards-container",children:"nothing was found for your search"}):Object(h.jsx)("div",{className:"cards-container",children:t.map((function(e){return Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("img",{className:"card__img",width:"116px",src:c(e.categoryName),alt:"product img"}),Object(h.jsxs)("div",{className:"card__info",children:[Object(h.jsx)("span",{className:"category-name",children:e.categoryName}),Object(h.jsx)("span",{className:"product-name",children:e.name}),Object(h.jsx)("span",{className:"product-description",children:e.description}),Object(h.jsxs)("div",{className:"product-price",children:[Object(h.jsxs)("span",{className:"product-value",children:["$",e.price]}),e.discount&&Object(h.jsxs)("span",{className:"product-discount",children:["Discount $",e.discount," per bag"]})]}),Object(h.jsxs)("div",{className:"product-extras",children:[e.isLimited&&Object(h.jsx)("span",{className:"product-limited",children:"Limited"}),e.isNew&&Object(h.jsx)("span",{className:"product-new",children:"New"})]})]})]},e.id)}))})};c(18);var w=function(e){var t=e.handler;return Object(h.jsxs)("div",{className:"error",children:["Something went wrong \xa0",Object(h.jsx)("button",{className:"error-button",type:"button",onClick:t,children:"try again"})]})},_=(c(19),c.p+"static/media/FiltersLogo.5067160f.svg"),k=c.p+"static/media/check.ca86e428.svg";var L=function(e){var t=e.clearHandler,c=e.handler,s=e.categories,a=e.isLimitedHandler,r=e.isNewHandler,n=e.items,i=e.filter;return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("div",{className:"title",children:[Object(h.jsx)("img",{className:"title__logo",src:_}),Object(h.jsx)("div",{className:"title__text",children:"Filters"})]}),Object(h.jsxs)("div",{className:"options",children:[Object(h.jsxs)("fieldset",{className:"options__block",children:[Object(h.jsx)("legend",{className:"legend",children:"Category"}),Object(h.jsx)("button",{className:0===i.category.length?"button button--checked":"button",type:"button",onClick:t,children:"All"}),s.map((function(e){return Object(h.jsx)("button",{className:i.category.find((function(t){return t===e.name}))?"button button--checked":"button",name:e.name,type:"button",onClick:c,disabled:!n.find((function(t){return t.categoryName===e.name})),children:e.name},e.id)}))]}),Object(h.jsxs)("fieldset",{className:"options__block",children:[Object(h.jsx)("legend",{className:"legend",children:"Status"}),Object(h.jsxs)("label",{className:"check-box__label",htmlFor:"is_limited",children:[Object(h.jsx)("span",{className:"check-box__sqr",children:i.isLimited&&Object(h.jsx)("img",{src:k})}),"Limited"]}),Object(h.jsx)("input",{className:"check-box",id:"is_limited",type:"checkbox",onChange:a,checked:i.isLimited}),Object(h.jsxs)("label",{className:"check-box__label",htmlFor:"is_new",children:[Object(h.jsx)("span",{className:"check-box__sqr",children:i.isNew&&Object(h.jsx)("img",{src:k})}),"New"]}),Object(h.jsx)("input",{className:"check-box",id:"is_new",type:"checkbox",onChange:r,checked:i.isNew})]})]})]})},C=function(){var e=function(){var e=Object(s.useReducer)(b,j),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(s.useCallback)((function(){return a({type:"filter:change",payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}})}),[]),n=Object(s.useCallback)((function(){return a({type:"filter:reset"})}),[]),o=Object(s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;a({type:"request:start"});var t=function(t){return fetch(t).then((function(t){if(t.ok)return t.json();throw e>0&&o(e-1),new Error("Request failed with status code ".concat(t.status))}))};t("/api/product?".concat(function(e){return[].concat(Object(i.a)(e.category.map((function(e){return"category[]=".concat(e)}))),["isNew=".concat(e.isNew),"isLimited=".concat(e.isLimited),"search=".concat(e.search)]).join("&")}(c.filter))).then((function(e){return a({type:"request:success",payload:e.results})})).catch((function(){return a({type:"request:error"})})),t("/api/category").then((function(e){return a({type:"cat-request:success",payload:e})})).catch((function(){return a({type:"cat-request:error"})}))}),[c.filter]);return Object(s.useEffect)((function(){o()}),[o,c.filter.search]),Object(d.a)(Object(d.a)({},c),{},{updateFilter:r,resetFilter:n})}(),t=e.items,c=e.filter,a=e.status,r=e.categoryStatus,n=e.updateFilter,o=e.categories,m=e.resetFilter;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{handler:function(e){n({search:e.target.value})}}),Object(h.jsxs)("div",{className:l.a.root,children:[Object(h.jsx)(L,{clearHandler:function(){return n({category:[]})},handler:function(e){return n({category:[].concat(Object(i.a)(c.category),Object(i.a)(Object.values.apply(Object,Object(i.a)(o.filter((function(t){return t.name===e.target.name}))))))})},categories:o,isLimitedHandler:function(){return n({isLimited:!c.isLimited})},isNewHandler:function(){return n({isNew:!c.isNew})},items:t,filter:c}),"success"===a&&"success"===r&&Object(h.jsx)(v,{items:t}),("error"===a||"error"===r)&&Object(h.jsx)(w,{handler:function(){return m()}})]})]})};var q=function(){return Object(h.jsx)(C,{})};n.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(q,{})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.ed50523b.chunk.js.map